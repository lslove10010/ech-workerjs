(function(_0x134a8f,_0x590807){const _0x5db527=_0x4731,_0x35da6f=_0x134a8f();while(!![]){try{const _0x178e4c=-parseInt(_0x5db527(0x177))/0x1*(-parseInt(_0x5db527(0x173))/0x2)+parseInt(_0x5db527(0x18b))/0x3*(parseInt(_0x5db527(0x17c))/0x4)+-parseInt(_0x5db527(0x170))/0x5+-parseInt(_0x5db527(0x15f))/0x6+-parseInt(_0x5db527(0x187))/0x7+parseInt(_0x5db527(0x183))/0x8*(parseInt(_0x5db527(0x15e))/0x9)+parseInt(_0x5db527(0x16f))/0xa*(-parseInt(_0x5db527(0x178))/0xb);if(_0x178e4c===_0x590807)break;else _0x35da6f['push'](_0x35da6f['shift']());}catch(_0x3e6f77){_0x35da6f['push'](_0x35da6f['shift']());}}}(_0x9d9e,0xe81d6));const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2,CF_FALLBACK_IPS=['ProxyIP.CMLiussss.net'],encoder=new TextEncoder();function _0x4731(_0x2ba0a1,_0x4b99f7){const _0x9d9ef5=_0x9d9e();return _0x4731=function(_0x473149,_0x9e0ed){_0x473149=_0x473149-0x15e;let _0x1571e3=_0x9d9ef5[_0x473149];return _0x1571e3;},_0x4731(_0x2ba0a1,_0x4b99f7);}export default{async 'fetch'(_0x253550,_0xfcd352,_0x165c24){const _0x16ad77=_0x4731;try{const _0x30cce0='jkmbb',_0x514bf6=_0x253550['headers'][_0x16ad77(0x18e)](_0x16ad77(0x165));if(!_0x514bf6||_0x514bf6['toLowerCase']()!==_0x16ad77(0x164))return await fetch(_0x253550);if(_0x30cce0&&_0x253550[_0x16ad77(0x166)][_0x16ad77(0x18e)]('Sec-WebSocket-Protocol')!==_0x30cce0)return new Response(_0x16ad77(0x171),{'status':0x191});const [_0x31e0bf,_0x3f2478]=Object[_0x16ad77(0x186)](new WebSocketPair());_0x3f2478[_0x16ad77(0x17b)](),handleSession(_0x3f2478)[_0x16ad77(0x185)](()=>safeCloseWebSocket(_0x3f2478));const _0x41e280={'status':0x65,'webSocket':_0x31e0bf};return _0x30cce0&&(_0x41e280['headers']={'Sec-WebSocket-Protocol':_0x30cce0}),new Response(null,_0x41e280);}catch(_0x2c8299){return new Response(_0x16ad77(0x16d)+_0x2c8299[_0x16ad77(0x175)],{'status':0x1f4});}}};async function handleSession(_0x3ca577){const _0xe53e2=_0x4731;let _0x4b815f,_0x58d280,_0x28805d,_0x5b8f0b=![];const _0x541369=()=>{const _0x4dc6eb=_0x4731;if(_0x5b8f0b)return;_0x5b8f0b=!![];try{_0x58d280?.[_0x4dc6eb(0x180)]();}catch{}try{_0x28805d?.[_0x4dc6eb(0x180)]();}catch{}try{_0x4b815f?.[_0x4dc6eb(0x18c)]();}catch{}_0x58d280=_0x28805d=_0x4b815f=null,safeCloseWebSocket(_0x3ca577);},_0x4fecb6=async()=>{const _0x309273=_0x4731;try{while(!_0x5b8f0b&&_0x28805d){const {done:_0x19e152,value:_0x284bde}=await _0x28805d['read']();if(_0x19e152)break;if(_0x3ca577[_0x309273(0x179)]!==WS_READY_STATE_OPEN)break;if(_0x284bde?.[_0x309273(0x174)]>0x0)_0x3ca577[_0x309273(0x17f)](_0x284bde);}}catch{}if(!_0x5b8f0b){try{_0x3ca577[_0x309273(0x17f)](_0x309273(0x18d));}catch{}_0x541369();}},_0x22cc2b=_0x2b699b=>{const _0x584901=_0x4731;if(_0x2b699b[0x0]==='['){const _0x15c035=_0x2b699b['indexOf'](']');return{'host':_0x2b699b[_0x584901(0x16a)](0x1,_0x15c035),'port':parseInt(_0x2b699b['substring'](_0x15c035+0x2),0xa)};}const _0x5827c9=_0x2b699b[_0x584901(0x18a)](':');return{'host':_0x2b699b[_0x584901(0x16a)](0x0,_0x5827c9),'port':parseInt(_0x2b699b['substring'](_0x5827c9+0x1),0xa)};},_0x4c2d1e=_0x182c1f=>{const _0x2d5bff=_0x4731,_0x3df257=_0x182c1f?.[_0x2d5bff(0x175)]?.[_0x2d5bff(0x161)]()||'';return _0x3df257[_0x2d5bff(0x182)]('proxy\x20request')||_0x3df257[_0x2d5bff(0x182)](_0x2d5bff(0x167))||_0x3df257[_0x2d5bff(0x182)](_0x2d5bff(0x162));},_0x106d60=async(_0x1cfbe2,_0x4bcc55)=>{const _0x18bb3a=_0x4731,{host:_0x233ae3,port:_0x5c39a6}=_0x22cc2b(_0x1cfbe2),_0x53ce58=[null,...CF_FALLBACK_IPS];for(let _0x5f4cce=0x0;_0x5f4cce<_0x53ce58[_0x18bb3a(0x18f)];_0x5f4cce++){try{_0x4b815f=connect({'hostname':_0x53ce58[_0x5f4cce]||_0x233ae3,'port':_0x5c39a6}),await Promise[_0x18bb3a(0x16e)]([_0x4b815f['opened'],new Promise((_0x1e688e,_0x112c41)=>setTimeout(()=>_0x112c41(new Error(_0x18bb3a(0x176))),0x3a98))]),_0x58d280=_0x4b815f[_0x18bb3a(0x189)][_0x18bb3a(0x16c)](),_0x28805d=_0x4b815f[_0x18bb3a(0x181)][_0x18bb3a(0x188)]();_0x4bcc55&&await _0x58d280[_0x18bb3a(0x163)](encoder[_0x18bb3a(0x16b)](_0x4bcc55));_0x3ca577[_0x18bb3a(0x17f)](_0x18bb3a(0x168)),_0x4fecb6();return;}catch(_0x3d98fb){try{_0x58d280?.[_0x18bb3a(0x180)]();}catch{}try{_0x28805d?.[_0x18bb3a(0x180)]();}catch{}try{_0x4b815f?.[_0x18bb3a(0x18c)]();}catch{}_0x58d280=_0x28805d=_0x4b815f=null;if(!_0x4c2d1e(_0x3d98fb)||_0x5f4cce===_0x53ce58['length']-0x1)throw _0x3d98fb;}}};_0x3ca577[_0xe53e2(0x172)](_0xe53e2(0x175),async _0x39fe7d=>{const _0xdc6824=_0xe53e2;if(_0x5b8f0b)return;try{const _0x4cd8c0=_0x39fe7d['data'];if(typeof _0x4cd8c0===_0xdc6824(0x184)){if(_0x4cd8c0[_0xdc6824(0x17a)]('CONNECT:')){const _0x2443d6=_0x4cd8c0[_0xdc6824(0x17d)]('|',0x8);if(_0x2443d6===-0x1)throw new Error('Invalid\x20CONNECT\x20format');await _0x106d60(_0x4cd8c0['substring'](0x8,_0x2443d6),_0x4cd8c0[_0xdc6824(0x16a)](_0x2443d6+0x1));}else{if(_0x4cd8c0[_0xdc6824(0x17a)](_0xdc6824(0x17e)))_0x58d280&&await _0x58d280[_0xdc6824(0x163)](encoder[_0xdc6824(0x16b)](_0x4cd8c0['substring'](0x5)));else _0x4cd8c0==='CLOSE'&&_0x541369();}}else _0x4cd8c0 instanceof ArrayBuffer&&_0x58d280&&await _0x58d280[_0xdc6824(0x163)](new Uint8Array(_0x4cd8c0));}catch(_0x3fb1d8){try{_0x3ca577[_0xdc6824(0x17f)](_0xdc6824(0x169)+_0x3fb1d8['message']);}catch{}_0x541369();}}),_0x3ca577[_0xe53e2(0x172)](_0xe53e2(0x18c),_0x541369),_0x3ca577[_0xe53e2(0x172)](_0xe53e2(0x160),_0x541369);}function _0x9d9e(){const _0x482502=['readyState','startsWith','accept','26876AXRCHk','indexOf','DATA:','send','releaseLock','readable','includes','11302136upcfll','string','catch','values','5642721mjlVZd','getReader','writable','lastIndexOf','492SUbVVj','close','CLOSE','get','length','9ZBhyjO','1876770aDwEEq','error','toLowerCase','cloudflare','write','websocket','Upgrade','headers','cannot\x20connect','CONNECTED','ERROR:','substring','encode','getWriter','Server\x20Error:\x20','race','10aKsCzn','4145795OnZwDI','Unauthorized','addEventListener','8RwbtOn','byteLength','message','Connect\x20timeout','103882VzHDvX','345532wFymvW'];_0x9d9e=function(){return _0x482502;};return _0x9d9e();}function safeCloseWebSocket(_0x1e3f1a){const _0x44cda7=_0x4731;try{(_0x1e3f1a['readyState']===WS_READY_STATE_OPEN||_0x1e3f1a[_0x44cda7(0x179)]===WS_READY_STATE_CLOSING)&&_0x1e3f1a[_0x44cda7(0x18c)](0x3e8,'Server\x20closed');}catch{}}export const config={'runtime':'nodejs_compat'};

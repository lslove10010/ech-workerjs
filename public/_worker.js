(function(_0x52307b,_0x30025a){const _0x4fffbd=_0x53a7,_0x571e9d=_0x52307b();while(!![]){try{const _0x24634b=parseInt(_0x4fffbd(0xe2))/0x1+-parseInt(_0x4fffbd(0xba))/0x2*(parseInt(_0x4fffbd(0xe4))/0x3)+parseInt(_0x4fffbd(0xc7))/0x4+-parseInt(_0x4fffbd(0xdd))/0x5*(-parseInt(_0x4fffbd(0xc9))/0x6)+-parseInt(_0x4fffbd(0xc5))/0x7+parseInt(_0x4fffbd(0xbb))/0x8+parseInt(_0x4fffbd(0xbe))/0x9*(-parseInt(_0x4fffbd(0xca))/0xa);if(_0x24634b===_0x30025a)break;else _0x571e9d['push'](_0x571e9d['shift']());}catch(_0x50365e){_0x571e9d['push'](_0x571e9d['shift']());}}}(_0x2f54,0x9ec95));function _0x53a7(_0x3875dd,_0x1bc450){const _0x2f54a3=_0x2f54();return _0x53a7=function(_0x53a76d,_0x96b477){_0x53a76d=_0x53a76d-0xb7;let _0x18eda3=_0x2f54a3[_0x53a76d];return _0x18eda3;},_0x53a7(_0x3875dd,_0x1bc450);}const WS_READY_STATE_OPEN=0x1,WS_READY_STATE_CLOSING=0x2,CF_FALLBACK_IPS=['ProxyIP.CMLiussss.net'],encoder=new TextEncoder();function _0x2f54(){const _0x405175=['Upgrade','readable','opened','3754716kLZvGR','encode','262900hboFnN','length','3206052ibLBoA','9830yWnpJJ','indexOf','message','headers','getWriter','cloudflare','accept','read','proxy\x20request','Sec-WebSocket-Protocol','toString','releaseLock','startsWith','websocket','TOKEN','ERROR:','readyState','substring','catch','10QuklPW','close','values','send','includes','1211480YPraKd','toLowerCase','531405NPSpOs','CLOSE','DATA:','write','CONNECTED','CONNECT:','lastIndexOf','cannot\x20connect','6YBiWok','7906760qKphcY','error','byteLength','14796UTeSte','Unauthorized','get','addEventListener'];_0x2f54=function(){return _0x405175;};return _0x2f54();}import{connect}from'cloudflare:sockets';export default{async 'fetch'(_0x124180,_0x225d7d,_0x1cbb71){const _0x27c068=_0x53a7;try{const _0x294dac=_0x225d7d[_0x27c068(0xd8)]||'',_0x412b18=_0x124180[_0x27c068(0xcd)][_0x27c068(0xc0)](_0x27c068(0xc2));if(!_0x412b18||_0x412b18['toLowerCase']()!==_0x27c068(0xd7))return await fetch(_0x124180);if(_0x294dac&&_0x124180[_0x27c068(0xcd)][_0x27c068(0xc0)](_0x27c068(0xd3))!==_0x294dac)return new Response(_0x27c068(0xbf),{'status':0x191});const [_0x18b3e9,_0x471ce6]=Object[_0x27c068(0xdf)](new WebSocketPair());_0x471ce6[_0x27c068(0xd0)](),handleSession(_0x471ce6)[_0x27c068(0xdc)](()=>safeCloseWebSocket(_0x471ce6));const _0x1051c9={'status':0x65,'webSocket':_0x18b3e9};return _0x294dac&&(_0x1051c9[_0x27c068(0xcd)]={'Sec-WebSocket-Protocol':_0x294dac}),new Response(null,_0x1051c9);}catch(_0xc870f8){return console[_0x27c068(0xbc)]('Worker\x20fetch\x20error:',_0xc870f8),new Response(_0xc870f8[_0x27c068(0xd4)](),{'status':0x1f4});}}};async function handleSession(_0x27ec6b){const _0x491c49=_0x53a7;let _0x38d3fa,_0x3f6173,_0x5b1d5c,_0x90e0a2=![];const _0x72c9ea=()=>{const _0x3c0427=_0x53a7;if(_0x90e0a2)return;_0x90e0a2=!![];try{_0x3f6173?.['releaseLock']();}catch{}try{_0x5b1d5c?.['releaseLock']();}catch{}try{_0x38d3fa?.[_0x3c0427(0xde)]();}catch{}_0x3f6173=_0x5b1d5c=_0x38d3fa=null,safeCloseWebSocket(_0x27ec6b);},_0x1920db=async()=>{const _0x2e6b02=_0x53a7;try{while(!_0x90e0a2&&_0x5b1d5c){const {done:_0x3cde50,value:_0x2c0b02}=await _0x5b1d5c[_0x2e6b02(0xd1)]();if(_0x3cde50)break;if(_0x27ec6b[_0x2e6b02(0xda)]!==WS_READY_STATE_OPEN)break;if(_0x2c0b02?.[_0x2e6b02(0xbd)]>0x0)_0x27ec6b[_0x2e6b02(0xe0)](_0x2c0b02);}}catch{}if(!_0x90e0a2){try{_0x27ec6b[_0x2e6b02(0xe0)](_0x2e6b02(0xe5));}catch{}_0x72c9ea();}},_0x425de8=_0x270931=>{const _0x440f52=_0x53a7;if(_0x270931[0x0]==='['){const _0x2eeeeb=_0x270931[_0x440f52(0xcb)](']');return{'host':_0x270931['substring'](0x1,_0x2eeeeb),'port':parseInt(_0x270931[_0x440f52(0xdb)](_0x2eeeeb+0x2),0xa)};}const _0x234400=_0x270931[_0x440f52(0xb8)](':');return{'host':_0x270931[_0x440f52(0xdb)](0x0,_0x234400),'port':parseInt(_0x270931['substring'](_0x234400+0x1),0xa)};},_0x3b1287=_0x2c12a6=>{const _0x449cc0=_0x53a7,_0x5205f3=_0x2c12a6?.['message']?.[_0x449cc0(0xe3)]()||'';return _0x5205f3[_0x449cc0(0xe1)](_0x449cc0(0xd2))||_0x5205f3[_0x449cc0(0xe1)](_0x449cc0(0xb9))||_0x5205f3[_0x449cc0(0xe1)](_0x449cc0(0xcf));},_0x483416=async(_0x38d257,_0x25a665)=>{const _0x34250b=_0x53a7,{host:_0x5791a9,port:_0x19cf58}=_0x425de8(_0x38d257),_0x49571e=[null,...CF_FALLBACK_IPS];for(let _0x4c9fdb=0x0;_0x4c9fdb<_0x49571e[_0x34250b(0xc8)];_0x4c9fdb++){try{_0x38d3fa=connect({'hostname':_0x49571e[_0x4c9fdb]||_0x5791a9,'port':_0x19cf58});if(_0x38d3fa[_0x34250b(0xc4)])await _0x38d3fa['opened'];_0x3f6173=_0x38d3fa['writable'][_0x34250b(0xce)](),_0x5b1d5c=_0x38d3fa[_0x34250b(0xc3)]['getReader']();_0x25a665&&await _0x3f6173[_0x34250b(0xe7)](encoder[_0x34250b(0xc6)](_0x25a665));_0x27ec6b[_0x34250b(0xe0)](_0x34250b(0xe8)),_0x1920db();return;}catch(_0x651c5c){try{_0x3f6173?.[_0x34250b(0xd5)]();}catch{}try{_0x5b1d5c?.[_0x34250b(0xd5)]();}catch{}try{_0x38d3fa?.[_0x34250b(0xde)]();}catch{}_0x3f6173=_0x5b1d5c=_0x38d3fa=null;if(!_0x3b1287(_0x651c5c)||_0x4c9fdb===_0x49571e[_0x34250b(0xc8)]-0x1)throw _0x651c5c;}}};_0x27ec6b[_0x491c49(0xc1)](_0x491c49(0xcc),async _0x5d689b=>{const _0x75430e=_0x491c49;if(_0x90e0a2)return;try{const _0x1aea9c=_0x5d689b['data'];if(typeof _0x1aea9c==='string'){if(_0x1aea9c['startsWith'](_0x75430e(0xb7))){const _0x9ce85c=_0x1aea9c[_0x75430e(0xcb)]('|',0x8);await _0x483416(_0x1aea9c[_0x75430e(0xdb)](0x8,_0x9ce85c),_0x1aea9c['substring'](_0x9ce85c+0x1));}else{if(_0x1aea9c[_0x75430e(0xd6)](_0x75430e(0xe6)))_0x3f6173&&await _0x3f6173['write'](encoder[_0x75430e(0xc6)](_0x1aea9c['substring'](0x5)));else _0x1aea9c===_0x75430e(0xe5)&&_0x72c9ea();}}else _0x1aea9c instanceof ArrayBuffer&&_0x3f6173&&await _0x3f6173[_0x75430e(0xe7)](new Uint8Array(_0x1aea9c));}catch(_0x42cd75){try{_0x27ec6b['send'](_0x75430e(0xd9)+_0x42cd75[_0x75430e(0xcc)]);}catch{}_0x72c9ea();}}),_0x27ec6b['addEventListener']('close',_0x72c9ea),_0x27ec6b['addEventListener'](_0x491c49(0xbc),_0x72c9ea);}function safeCloseWebSocket(_0x238603){const _0x53e7d4=_0x53a7;try{(_0x238603[_0x53e7d4(0xda)]===WS_READY_STATE_OPEN||_0x238603[_0x53e7d4(0xda)]===WS_READY_STATE_CLOSING)&&_0x238603[_0x53e7d4(0xde)](0x3e8,'Server\x20closed');}catch{}}export const config={'runtime':'nodejs_compat'};
